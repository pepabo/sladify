# Sladify ユーザーガイド

## Sladifyとは？

Sladifyは、あなたの組織がDifyで作成したAIワークフローを、Slack上から簡単に実行できるようにするプラットフォームです。

### なぜSladifyを使うのか？

通常、Difyで作られた高度なAIワークフローを使うには：
- APIの知識が必要
- 専用のWebインターフェースにアクセスが必要
- 技術的な設定が必要

Sladifyがあれば、**Slackでメッセージを送るだけ**でこれらのAI機能を使えます。

### どんなことができる？

あなたの組織がDifyで作成したワークフローによって様々なことが可能です。例えば：

- **翻訳・要約**: 文章を他言語に翻訳したり、長文を要約
- **データ分析**: 売上データやユーザー行動の分析
- **コンテンツ生成**: マーケティング文章やレポートの自動作成
- **問い合わせ対応**: FAQやカスタマーサポートの自動化
- **その他**: 組織独自のカスタムワークフロー

これらすべてを、技術的な知識なしにSlackから利用できます。

## 目次
- [はじめに](#はじめに)
- [基本的な使い方](#基本的な使い方)
- [コマンド一覧](#コマンド一覧)
- [ワークフローの実行方法](#ワークフローの実行方法)
- [よくある質問](#よくある質問)

## はじめに

### 準備
Sladifyを使い始める前に、以下を確認してください：

1. **Slackチャンネルへの追加**
   使いたいチャンネルにSladifyボットが追加されているか確認します。追加されていない場合は、チャンネル設定から`@sladify`を招待してください。

2. **ボットの状態確認**
   Sladifyのプロフィールアイコンに緑の点が表示されていることを確認します。これはボットがオンラインで利用可能な状態を示しています。

### 初めての利用
最初に利用可能なワークフローを確認してみましょう：
```
@sladify list
```

これで、あなたが使えるワークフローの一覧が表示されます。

## 基本的な使い方

Sladifyの使い方はとてもシンプルです。Slackのメッセージ入力欄で`@sladify`をメンションして、実行したいコマンドを入力するだけです。

```
@sladify [コマンド] [引数...]
```

### 基本的な流れ
1. **ボットをメンション**: `@sladify`と入力
2. **コマンドを追加**: 実行したいコマンドを続けて入力
3. **送信**: Enterキーで送信
4. **結果を待つ**: ボットが処理結果を返信します

## コマンド一覧

Sladifyで使える基本的なコマンドを紹介します。

### 1. ワークフロー一覧を表示（list）
現在利用可能なワークフローを一覧表示します。どんなワークフローが使えるかわからないときは、まずこのコマンドを実行してみてください。

```
@sladify list
```

**実行結果の例：**
```
登録済みのワークフロー:
• weather-bot - 天気予報を取得
• translator - テキスト翻訳
• summarizer - 文章要約
```

この例では、3つのワークフローが利用可能であることがわかります。それぞれのワークフローの名前と簡単な説明が表示されます。

### 2. ワークフローの詳細を確認（tool）
特定のワークフローについて、どんなパラメータが必要か、どのように使うかなどの詳細情報を確認できます。ワークフローを実行する前に、必要な情報を把握するのに便利です。

```
@sladify tool [ワークフロー名]
```

**使用例：**
```
@sladify tool weather-bot
```

**実行結果の例：**
```
weather-bot の詳細:
説明: 指定した地域の天気予報を取得します
必要なパラメータ:
  - location (必須): 天気を知りたい場所（例：東京、大阪）
  - days (任意): 予報日数（1-7日、デフォルト: 3日）
```

### 3. ヘルプを表示（help）
Sladifyの基本的な使い方やコマンドの一覧を表示します。使い方を忘れたときや、初めて使う人に教えるときに便利です。

```
@sladify help
```

このコマンドで、利用可能なコマンドとその簡単な説明が表示されます。

## ワークフローの実行方法

実際にワークフローを実行する方法は2つあります。状況に応じて使い分けてください。

### 方法1: インタラクティブフォーム（推奨）

最も簡単で確実な方法です。ワークフロー名だけを指定すると、必要な情報を入力するためのフォームが自動的に表示されます。

```
@sladify [ワークフロー名]
```

**使用例：**
```
@sladify weather-bot
```

#### フォームの使い方

1. **フォームが表示される**
   コマンドを送信すると、入力フォームがSlack上に表示されます。

2. **必要な情報を入力**
   - 必須項目には `*` マークが付いています
   - 各フィールドには説明文があるので、何を入力すればよいかわかります
   - テキスト入力欄では`Shift+Enter`で改行できます

3. **実行ボタンをクリック**
   すべての必須項目を入力したら、「実行」ボタンをクリックします。

4. **結果を確認**
   処理が完了すると、結果がSlackに表示されます。

この方法の利点：
- パラメータを覚える必要がない
- 入力ミスを防げる
- 必須項目がひと目でわかる

### 方法2: ダイレクト実行

パラメータが1つだけのシンプルなワークフローの場合、コマンドラインのように直接実行できます。

```
@sladify [ワークフロー名] [値]
```

**使用例：**
```
@sladify translator こんにちは世界
```

この例では、「こんにちは世界」というテキストが翻訳ワークフローに直接渡されます。

**重要な注意点：** 
- この方法は**パラメータが1つだけ**のワークフローでのみ使用できます
- パラメータが2つ以上ある場合は、必ずフォーム（方法1）を使用してください
- パラメータの数がわからない場合は、`@sladify tool [ワークフロー名]`で確認できます

## よくある質問

### Q: ワークフローが実行されない
ワークフローが動かないときは、以下の点を順番に確認してください：

1. **ワークフロー名は正しいですか？**
   - `@sladify list`でワークフロー名を確認してください
   - 大文字・小文字やハイフンの有無に注意してください

2. **必須パラメータは入力しましたか？**
   - フォームの`*`マークがついた項目はすべて必須です
   - 空欄のまま実行ボタンを押してもエラーになります

3. **ボットはチャンネルに追加されていますか？**
   - チャンネルのメンバー一覧に`@sladify`が表示されているか確認
   - いない場合は、チャンネル設定から招待してください

### Q: 実行結果が表示されない
処理に時間がかかっている可能性があります。

- **通常の待ち時間**: 5〜30秒程度
- **複雑な処理**: 1分以上かかることもあります
- **2分以上待っても結果が出ない場合**: 管理者に連絡してください

### Q: 複数行のテキストを入力したい
長い文章や改行を含むテキストを入力する場合：

- **フォーム内**: `Shift+Enter`で改行
- **直接実行時**: 残念ながら改行は使えません。フォームを使用してください

### Q: エラーが発生した
エラーメッセージが表示された場合の対処法：

1. **「パラメータが不正です」というエラー**
   - 数値フィールドに文字を入力していないか確認
   - 日付の形式が正しいか確認（例：2024-01-15）

2. **「ワークフローが見つかりません」というエラー**
   - ワークフロー名のスペルを確認
   - `@sladify list`で正しい名前を確認

3. **「権限がありません」というエラー**
   - そのワークフローの使用権限がない可能性があります
   - 管理者に相談してください

### Q: 新しいワークフローを追加したい
新しいワークフローの追加は管理者のみが行えます。以下の情報を準備して管理者に依頼してください：

1. **ワークフローの名前**（英数字とハイフンのみ）
2. **何をするワークフローか**の説明
3. **DifyのワークフローURL**
4. **必要なパラメータ**とその説明

### Q: 処理を中止したい
一度実行したワークフローは途中で止めることができません。処理が終わるまでお待ちください。

## トラブルシューティング

### ボットが反応しない場合のチェックリスト

1. **メンションの確認**
   - `@sladify`を正しく入力していますか？
   - @マークの後にスペースが入っていませんか？

2. **ボットの状態確認**
   - Sladifyのプロフィールアイコンを確認
   - 緑の点（オンライン）が表示されていますか？
   - グレーの場合はオフラインです

3. **チャンネルの確認**
   - プライベートチャンネルの場合、ボットが招待されていますか？
   - DMでは使用できません

### よくあるエラーと解決方法

| エラーメッセージ | 原因 | 解決方法 |
|---|---|---|
| 「コマンドが見つかりません」 | コマンドのスペルミス | `@sladify help`で正しいコマンドを確認 |
| 「パラメータが不足しています」 | 必須項目の入力漏れ | フォームを使って再実行 |
| 「数値を入力してください」 | 数値フィールドに文字を入力 | 半角数字のみを入力 |
| 「タイムアウトしました」 | 処理時間が長すぎる | しばらく待ってから再実行 |

## サポート

### 問題が解決しない場合

上記の方法で問題が解決しない場合は、以下の情報を準備して管理者に連絡してください：

1. **実行したコマンド**（例：`@sladify weather-bot`）
2. **エラーメッセージ**（表示された場合はスクリーンショット）
3. **発生時刻**（○月○日 ○時○分頃）
4. **使用したチャンネル名**

管理者への連絡方法：
- Slackで直接メッセージ
- #sladify-supportチャンネルに投稿（ある場合）

### フィードバックや要望

Sladifyをより使いやすくするため、皆様のご意見をお待ちしています：
- 新しいワークフローのリクエスト
- 使いにくい点の改善提案
- バグの報告

お気軽に管理者までご連絡ください。
